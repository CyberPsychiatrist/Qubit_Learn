<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Paraphraser</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <header>
        <h1>Paraphraser</h1>
        <nav>
            <a href="/dashboard">Dashboard</a>
            <a href="/logout">Logout</a>
        </nav>
    </header>
    <main>
        <section class="paraphraser-section">
            <h2>AI-Powered Paraphraser</h2>
            <form id="paraphraseForm">
                <textarea name="text" rows="5" cols="60" placeholder="Enter text to paraphrase" required></textarea><br>
                <label>Number of Results: <input type="number" name="num_return_sequences" value="3" min="1" max="10"></label><br>
                <button type="submit">Paraphrase</button>
            </form>
            <div id="paraphraseResults" style="margin-top:1em;"></div>
        </section>
    </main>
    <script>
    document.getElementById('paraphraseForm').onsubmit = async function(e) {
        e.preventDefault();
        document.getElementById('paraphraseResults').innerText = '';
        const formData = new FormData(this);
        const res = await fetch('/api/paraphrase', { method: 'POST', body: formData });
        const data = await res.json();
        if (data.paraphrases) {
            document.getElementById('paraphraseResults').innerHTML = '<ul>' + data.paraphrases.map(p => `<li>${p}</li>`).join('') + '</ul>';
        } else {
            document.getElementById('paraphraseResults').innerText = 'No results.';
        }
    };
    </script>
</body>
</html>